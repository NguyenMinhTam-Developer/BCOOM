import '../../../../core/utils/json_mapper_utils.dart';
import '../../domain/entities/product_detail_entity.dart';
import 'brand_model.dart';
import 'product_image_model.dart';
import 'product_variant_model.dart';
import 'seller_model.dart';

class ProductDetailModel extends ProductDetailEntity {
  const ProductDetailModel({
    required super.id,
    required super.site,
    required super.objectId,
    required super.parentCategoryId,
    required super.categoryId,
    required super.filterCategoryId,
    required super.masterProductId,
    required super.numberOrdered,
    required super.amountInventory,
    required super.type,
    required super.rate,
    required super.code,
    required super.barCode,
    required super.name,
    required super.alias,
    required super.fullName,
    required super.hasSubProduct,
    required super.nameSlug,
    required super.priceBase,
    required super.priceSale,
    required super.priceMarket,
    required super.price,
    required super.priceApplyTime,
    required super.industryId,
    required super.supplierId,
    required super.sellerId,
    required super.brandId,
    required super.unitId,
    required super.categoryFoodId,
    required super.subDescription,
    required super.description,
    required super.configurationInfo,
    required super.extras,
    required super.imageUrl,
    required super.imageLocation,
    required super.weight,
    required super.length,
    required super.width,
    required super.height,
    required super.status,
    required super.statusId,
    required super.createdBy,
    required super.updatedBy,
    required super.createdAt,
    required super.updatedAt,
    required super.sku,
    required super.customerScope,
    required super.priceCommission,
    required super.sellerName,
    required super.brandName,
    required super.supplierName,
    required super.brandSlug,
    required super.categoryName,
    required super.productImages,
    required super.variants,
    required super.seller,
    required super.brand,
  });

  factory ProductDetailModel.fromJson(Map<String, dynamic> json) {
    return ProductDetailModel(
      id: JsonMapperUtils.safeParseInt(json['id']),
      site: JsonMapperUtils.safeParseString(json['site']),
      objectId: JsonMapperUtils.safeParseInt(json['object_id']),
      parentCategoryId: JsonMapperUtils.safeParseInt(json['parent_category_id']),
      categoryId: JsonMapperUtils.safeParseString(json['category_id']),
      filterCategoryId: JsonMapperUtils.safeParseStringNullable(json['filter_category_id']),
      masterProductId: JsonMapperUtils.safeParseIntNullable(json['master_product_id']),
      numberOrdered: JsonMapperUtils.safeParseIntNullable(json['number_ordered']),
      amountInventory: JsonMapperUtils.safeParseIntNullable(json['amount_inventory']),
      type: JsonMapperUtils.safeParseString(json['type']),
      rate: JsonMapperUtils.safeParseDoubleNullable(json['rate']),
      code: JsonMapperUtils.safeParseString(json['code']),
      barCode: JsonMapperUtils.safeParseStringNullable(json['bar_code']),
      name: JsonMapperUtils.safeParseString(json['name']),
      alias: JsonMapperUtils.safeParseStringNullable(json['alias']),
      fullName: JsonMapperUtils.safeParseStringNullable(json['full_name']),
      hasSubProduct: JsonMapperUtils.safeParseInt(json['has_sub_product']),
      nameSlug: JsonMapperUtils.safeParseString(json['name_slug']),
      priceBase: JsonMapperUtils.safeParseInt(json['price_base']),
      priceSale: JsonMapperUtils.safeParseInt(json['price_sale']),
      priceMarket: JsonMapperUtils.safeParseInt(json['price_market']),
      price: JsonMapperUtils.safeParseStringNullable(json['price']),
      priceApplyTime: JsonMapperUtils.safeParseStringNullable(json['price_apply_time']),
      industryId: JsonMapperUtils.safeParseInt(json['industry_id']),
      supplierId: JsonMapperUtils.safeParseInt(json['supplier_id']),
      sellerId: JsonMapperUtils.safeParseIntNullable(json['seller_id']),
      brandId: JsonMapperUtils.safeParseInt(json['brand_id']),
      unitId: JsonMapperUtils.safeParseInt(json['unit_id']),
      categoryFoodId: JsonMapperUtils.safeParseIntNullable(json['category_food_id']),
      subDescription: JsonMapperUtils.safeParseStringNullable(json['sub_description']),
      description: JsonMapperUtils.safeParseStringNullable(json['description']),
      configurationInfo: JsonMapperUtils.safeParseStringNullable(json['configuration_info']),
      extras: JsonMapperUtils.safeParseStringNullable(json['extras']),
      imageUrl: JsonMapperUtils.safeParseString(json['image_url']),
      imageLocation: JsonMapperUtils.safeParseString(json['image_location']),
      weight: JsonMapperUtils.safeParseInt(json['weight']),
      length: JsonMapperUtils.safeParseInt(json['length']),
      width: JsonMapperUtils.safeParseInt(json['width']),
      height: JsonMapperUtils.safeParseInt(json['height']),
      status: JsonMapperUtils.safeParseInt(json['status']),
      statusId: JsonMapperUtils.safeParseIntNullable(json['status_id']),
      createdBy: JsonMapperUtils.safeParseIntNullable(json['created_by']),
      updatedBy: JsonMapperUtils.safeParseIntNullable(json['updated_by']),
      createdAt: JsonMapperUtils.safeParseDateTime(json['created_at']),
      updatedAt: JsonMapperUtils.safeParseDateTime(json['updated_at']),
      sku: JsonMapperUtils.safeParseString(json['sku']),
      customerScope: JsonMapperUtils.safeParseString(json['customer_scope']),
      priceCommission: JsonMapperUtils.safeParseIntNullable(json['price_commission']),
      sellerName: JsonMapperUtils.safeParseStringNullable(json['seller_name']),
      brandName: JsonMapperUtils.safeParseStringNullable(json['brand_name']),
      supplierName: JsonMapperUtils.safeParseStringNullable(json['supplier_name']),
      brandSlug: JsonMapperUtils.safeParseStringNullable(json['brand_slug']),
      categoryName: JsonMapperUtils.safeParseStringNullable(json['category_name']),
      productImages: JsonMapperUtils.safeParseList(
        json['product_images'],
        mapper: (e) => ProductImageModel.fromJson(
          JsonMapperUtils.safeParseMap(e),
        ),
      ),
      variants: JsonMapperUtils.safeParseList(
        json['variants'],
        mapper: (e) => ProductVariantModel.fromJson(
          JsonMapperUtils.safeParseMap(e),
        ),
      ),
      seller: JsonMapperUtils.safeParseMapNullable(json['seller']) != null ? SellerModel.fromJson(JsonMapperUtils.safeParseMap(json['seller'])) : null,
      brand: JsonMapperUtils.safeParseMapNullable(json['brand']) != null ? BrandModel.fromJson(JsonMapperUtils.safeParseMap(json['brand'])) : null,
    );
  }
}
